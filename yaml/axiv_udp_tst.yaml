## Peripherals that will be referenced later

SysMem: &SysMem
  name: sysm
  sizeBits: 0x1000
  description: Adcs
  IntField:
    - offset: 0x400
      name:  adcs
      description: ""
      sizeBits: 16
      stride: 4
      nelms: 10

Prbs: &Prbs
  name: prbs
  description: Prbs
  sizeBits: 0x1000
  IntField:
    - offset: 0x00 
      name: axiEn
      description: ""
      sizeBits: 1
      lsBit: 0
    - offset: 0x00 
      name: trig
      description: ""
      sizeBits: 1
      lsBit: 1
    - offset: 0x00 
      name: busy
      description: ""
      sizeBits: 1
      lsBit: 2
      mode: RO
    - offset: 0x00 
      name: overflow
      description: ""
      sizeBits: 1
      lsBit: 3
      mode: RO
    - offset: 0x00 
      name: oneShot
      description: ""
      sizeBits: 1
      lsBit: 4
    - offset: 0x04 
      name: packetLength
      description: ""
    - offset: 0x08 
      name: tDest
      description: ""
      sizeBits: 8
      lsBit: 0
    - offset: 0x09 
      name: tId
      description: ""
      sizeBits: 8
      lsBit: 0
    - offset: 0x0c 
      name: dataCnt
      description: ""
      mode: RO
    - offset: 0x10 
      name: eventCnt
      description: ""
      mode: RO
    - offset: 0x14 
      name: randomData
      description: ""
      mode: RO

AxiVersion: &AxiVersion
  name: AxiVersion
  description: AXI-Lite Version Module
  sizeBits: 0x1000
  IntField:
    - offset: 0x08
      name: dnaValue
      description: ""
      sizeBits: 64
      wordSwap: 4
      mode: RO
    - offset: 0x10
      name: fdSerial
      description: ""
      sizeBits: 64
      wordSwap: 4
      mode: RO
    - offset: 0x24
      name: counter
      description: ""
      sizeBits: 32
      mode: RW
    - offset: 0x800
      name: bldStamp
      description: ""
      sizeBits: 8
      nelms: 123
      mode: RO
    - offset: 0x04
      name: scratchPad
      description: ""
      sizeBits: 32
      lsBit: 0
    - name: bits
      offset: 0x04
      description: ""
      sizeBits: 22
      lsBit: 4

#MMIO range, will be attached to fpga

mmio: &mmio
  name: mmio
  size: 0x100000
  MMIODev:
    - <<: *AxiVersion   # merge tag for AxiVersion
      name: vers        # overwrite name
      offset: 0x00000
    - <<: *SysMem
      offset: 0x10000
    - <<: *Prbs
      offset: 0x30000


# Final device that will be used to generate configuration
NetIODev: &netio
  name: fpga
  ipAddr: 192.168.2.10
  MMIODev:
    - <<: *mmio
      SRP:
        ProtocolVersion: SRP_UDP_V3
      udp:
        port: 8193
      RSSI: yes
      depack:
        useDepack: yes
      TDestMux:
        TDEST: 0
